<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro ToDo PWA</title>
    
    <meta http-equiv="Content-Security-Policy" 
          content="default-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob: https:; script-src 'self'; object-src 'none';">
          
    <meta name="description" content="Zaawansowana lista zada≈Ñ PWA offline.">
    <meta name="theme-color" content="#007bff">

    <link rel="icon" href="data:,">
    <link rel="apple-touch-icon" href="icons/icon-192.png">

    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="app-container">
        <header>
            <h1>Moje Zadania</h1>
            <div class="header-row">
                <div class="stats" id="stats-counter">≈Åadowanie...</div>
                <button id="notify-btn" class="icon-btn" aria-label="W≈ÇƒÖcz powiadomienia">üîï</button>
            </div>
        </header>

        <form id="todo-form">
            <div class="input-group">
                <input type="text" id="todo-input" placeholder="Co robimy?" autocomplete="off">
                
                <div class="form-extras">
                    <input type="datetime-local" id="todo-date" aria-label="Termin wykonania">
                    
                    <label for="todo-image" class="file-label" title="Dodaj zdjƒôcie">üì∑</label>
                    <input type="file" id="todo-image" accept="image/*" class="hidden">
                </div>
            </div>
            
            <button type="submit" id="add-btn">Dodaj</button>
        </form>

        <div class="filters-container">
            <div class="filter-group">
                <button class="filter-btn active" data-filter="all">Wszystkie</button>
                <button class="filter-btn" data-filter="active">Do zrobienia</button>
                <button class="filter-btn" data-filter="completed">Uko≈Ñczone</button>
            </div>
            
            <label class="sort-label">
                <input type="checkbox" id="sort-toggle"> 
                <span>‚è≥ Najpilniejsze</span>
            </label>
        </div>

        <ul id="todo-list" class="todo-list"></ul>

        <button id="clear-completed" class="hidden">
            Wyczy≈õƒá uko≈Ñczone zadania
        </button>

        <footer>
            <p class="footer-text">
                ¬© 2026 ToDoApp PWA Project
            </p>
        </footer>
    </div>

    <div id="toast-container"></div>

    <dialog id="confirm-dialog">
        <div class="dialog-content">
            <h3>Jeste≈õ pewien?</h3>
            <p>Tej operacji nie mo≈ºna cofnƒÖƒá.</p>
            <div class="dialog-actions">
                <button id="dialog-cancel" class="btn-secondary">Anuluj</button>
                <button id="dialog-confirm" class="btn-danger">Usu≈Ñ</button>
            </div>
        </div>
    </dialog>

    <script type="module" src="./js/app.js"></script>
</body>
</html>